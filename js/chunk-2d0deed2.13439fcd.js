(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0deed2"],{8873:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("div",{staticClass:"container confirm_product my-3"},[[e("h2",{staticClass:"my-2 p-2"},[t._v("訂單明細")])],e("div",{staticClass:"row d-flex"},[e("div",{staticClass:"col-md-12 confirm_productinfo font-weight-normal d-flex"},[e("div",{staticClass:"col-md-8 d-flex justify-content-between"},[e("div",{staticClass:"col-md-5",staticStyle:{"white-space":"nowrap"}},t._l(t.order.products,(function(s,a){return e("div",{key:a,staticClass:"d-flex mb-3 p-3"},[e("div",{staticClass:"mr-3"},[e("img",{attrs:{src:s.product.imageUrl[0],alt:""}})]),e("div",[e("div",[t._v(t._s(s.product.title))]),e("div",[t._v(" 單價: "),e("span",{staticClass:"text-danger"},[t._v(t._s(s.product.price))])]),e("div",[t._v("數量: "+t._s(s.quantity))]),e("div",[t._v("小計: "+t._s(s.product.price*s.quantity)+" 元")])])])})),0)]),e("div",{staticClass:"col-md-4 confirm_userinfo"},[e("div",{staticClass:"col-md-12 font-weight-bolder p-3"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("小計")]),e("span",[t._v(t._s(t.order.amount)+" 元")])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("運費")]),e("div",[t.order.amount>=999?e("span",[t._v(t._s(0)+" 元")]):e("span",[t._v(t._s(80)+" 元")])])]),e("div",{staticClass:"d-flex justify-content-between my-3"},[e("h5",[t._v("訂單總計")]),e("div",{staticClass:"text-danger"},[t.order.amount>=999?e("h5",[t._v(t._s(t.order.amount)+" 元")]):e("h5",[t._v(t._s(t.order.amount+80)+" 元")])])])]),e("div",{staticClass:"p-3 mt-3"},[e("div",{},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("收件人:")]),e("span",[t._v(t._s(t.order.user.name))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("信箱:")]),e("span",[t._v(t._s(t.order.user.email))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("聯絡電話:")]),e("span",[t._v(t._s(t.order.user.tel)+" ")])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("地址:")]),e("span",[t._v(t._s(t.order.user.address))])])]),e("div",{},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("付款方式:")]),e("span",[t._v(t._s(t.order.payment))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("訂單建立時間:")]),e("span",[t._v(t._s(t.order.updated.datetime))])])])])])])]),e("div",{staticClass:"row d-flex justify-content-center my-3"},[e("button",{staticClass:"btn btn-dark",staticStyle:{}},[e("router-link",{attrs:{to:"/products"}},[t._v("繼續購物")])],1)])],2)],1)},i=[],n=(e("99af"),e("4160"),e("159b"),{name:"Confirm",data:function(){return{isLoading:!1,fullPage:!0,order:{user:{}},orderId:"",isEnabled:!1,quantityTatol:0,uuid:"56ff457f-9ba1-4d05-9358-26f3844d450a"}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},methods:{getOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io","/api/").concat(this.uuid,"/ec/orders/").concat(this.orderId);this.$http.get(s).then((function(s){t.order=s.data.data,null===t.order.coupon?t.isEnabled=!1:t.isEnabled=!0,t.calTotal(),t.isLoading=!1})).catch((function(s){t.isLoading=!1,t.$bus.$emit("message:push","資料讀取失敗，請稍後再試\n            ".concat(s),"danger")}))},calTotal:function(){var t=0;this.order.products.forEach((function(s){t+=s.quantity})),this.quantityTatol=t},payOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io","/api/").concat(this.uuid,"/ec/orders/").concat(this.orderId,"/paying");this.$http.post(s).then((function(s){s.data.data.paid&&(t.getOrder(),t.$bus.$emit("message:push","付款成功","success")),t.isProcessing=!1})).catch((function(s){t.$bus.$emit("message:push","付款失敗，請稍後再試\n            ".concat(s),"danger"),t.isProcessing=!1}))}}}),d=n,o=e("2877"),r=Object(o["a"])(d,a,i,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0deed2.13439fcd.js.map