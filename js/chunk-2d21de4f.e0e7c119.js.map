{"version":3,"sources":["webpack:///./src/views/Product.vue?8270","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?880b","webpack:///./src/views/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","item","imageUrl","_v","_s","title","description","price","directives","name","rawName","value","product","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","num","key","domProps","unit","_e","addCart","id","staticRenderFns","data","content","origin_price","uuid","status","loadingItem","components","created","getProduct","methods","$http","quantity","axios","component"],"mappings":"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","file":"js/chunk-2d21de4f.e0e7c119.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('section',{staticClass:\"banner bannerforproduct\"}),_c('section',{staticClass:\"container\"},[_c('div',{staticClass:\"d-flex align-items-center justify-content-center row p-3 my-3 \"},[_c('div',{staticClass:\"picbox col-lg-6 col-md-12 p-3 d-flex justify-content-center\"},[_c('img',{staticClass:\"shadow-sm rounded \",attrs:{\"src\":_vm.item.imageUrl[0],\"alt\":\"\"}})]),_c('div',{staticClass:\"describebox col-lg-6 col-md-12 p-3 mb-2 \"},[_c('h4',{staticClass:\"my-3\"},[_vm._v(_vm._s(_vm.item.title))]),_c('h5',[_vm._v(_vm._s(_vm.item.description))]),_c('div',{staticClass:\"d-flex justify-content-end p-3 my-3\"},[_c('h5',[_vm._v(\"$\"+_vm._s(_vm.item.price))])]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"form-control mb-3\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"0\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"請選擇數量\")]),_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(_vm._s(num)+\" \"+_vm._s(_vm.item.unit))])})],2),_c('div',{staticClass:\"describe_footer my-3 d-flex justify-content-end\"},[_c('div',{staticClass:\"mb-3 m-3\"},[(_vm.product.num)?_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" 小計 | \"),_c('strong',[_vm._v(_vm._s(_vm.product.num * _vm.item.price))])]):_vm._e()]),_c('button',{staticClass:\"btn bb\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addCart(_vm.item.id, _vm.product.num)}}},[_vm._v(\"加到購物車\")])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <!-- pratice -->\n    <section class=\"banner bannerforproduct\"></section>\n    <section class=\"container\">\n      <div class=\"d-flex align-items-center justify-content-center row p-3 my-3 \">\n        <div class=\"picbox col-lg-6 col-md-12 p-3 d-flex justify-content-center\">\n          <img class=\"shadow-sm rounded \" :src=\"item.imageUrl[0]\" alt />\n        </div>\n        <div class=\"describebox col-lg-6 col-md-12 p-3 mb-2 \">\n          <h4 class=\"my-3\">{{item.title}}</h4>\n          <h5>{{item.description}}</h5>\n          <div class=\"d-flex justify-content-end p-3 my-3\">\n            <h5>${{ item.price }}</h5>\n          </div>\n          <!-- selectbox -->\n          <select class=\"form-control mb-3\" v-model=\"product.num\">\n            <option value=\"0\" disabled selected>請選擇數量</option>\n            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">{{ num }} {{item.unit }}</option>\n          </select>\n          <div class=\"describe_footer my-3 d-flex justify-content-end\">\n            <!-- subtotal -->\n            <div class=\"mb-3 m-3\">\n              <div v-if=\"product.num\" class=\"text-nowrap\">\n                小計 |\n                <strong>{{ product.num * item.price }}</strong>\n              </div>\n            </div>\n            <button type=\"button\"  class=\"btn bb\"  @click=\"addCart(item.id, product.num)\">加到購物車</button>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nconst getProduct = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/product`\nexport default {\n  name: 'Product',\n  data () {\n    return {\n      isLoading: false,\n      item: {\n        id: '',\n        title: '',\n        content: '',\n        price: '',\n        origin_price: '',\n        imageUrl: []\n      },\n      uuid: process.env.VUE_APP_UUID,\n      product: {\n        num: 1\n      },\n      status: {\n        loadingItem: ''\n      }\n    }\n  },\n  components: {},\n  created () {\n    this.getProduct()\n  },\n  methods: {\n    getProduct () {\n      this.isLoading = true\n      const { id } = this.$route.params\n      this.$http\n        .get(`${getProduct}/${id}`)\n        .then((res) => {\n          this.isLoading = false\n          this.item = res.data.data\n          this.$set(this.product, 'num', 1)\n        })\n        .catch((err) => {\n          console.log(err.data.data)\n        })\n    },\n    addCart (id, quantity = 1) {\n      this.isLoading = true\n      this.status.loadingItem = id\n      this.item.id = id\n      const url = `${process.env.VUE_APP_APIPATH}/api/${this.uuid}/ec/shopping`\n      const cart = {\n        product: this.item.id,\n        quantity\n      }\n      this.axios\n        .post(url, cart)\n        .then(() => {\n          this.status.loadingItem = ''\n          this.$bus.$emit('updateTotal')\n          this.$bus.$emit('message:push', '成功加入購物車', 'success')\n          this.isLoading = false\n        })\n        .catch((err) => {\n          this.status.loadingItem = ''\n          const error = err.response.data.errors\n          console.log(error)\n          error.forEach((error) => {\n            this.isLoading = false\n            this.$bus.$emit(\n              'message.push',\n              '加入購物車失敗',\n              `${error}`,\n              'danger'\n            )\n          })\n        })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=310f104c&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}