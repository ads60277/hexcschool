(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21de4f"],{d2f1:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"product"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),e("section",{staticClass:"banner bannerforproduct"}),e("section",{staticClass:"container"},[e("div",{staticClass:"d-flex align-items-center justify-content-center row p-3 my-3 "},[e("div",{staticClass:"picbox col-lg-6 col-md-12 p-3 d-flex justify-content-center"},[e("img",{staticClass:"shadow-sm rounded ",attrs:{src:t.item.imageUrl[0],alt:""}})]),e("div",{staticClass:"describebox col-lg-6 col-md-12 p-3 mb-2 "},[e("h4",{staticClass:"my-3"},[t._v(t._s(t.item.title))]),e("h5",[t._v(t._s(t.item.description))]),e("div",{staticClass:"d-flex justify-content-end p-3 my-3"},[e("h5",[t._v("$"+t._s(t.item.price))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mb-3",on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.$set(t.product,"num",i.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("請選擇數量")]),t._l(10,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(i)+" "+t._s(t.item.unit))])}))],2),e("div",{staticClass:"describe_footer my-3 d-flex justify-content-end"},[e("div",{staticClass:"mb-3 m-3"},[t.product.num?e("div",{staticClass:"text-nowrap"},[t._v(" 小計 | "),e("strong",[t._v(t._s(t.product.num*t.item.price))])]):t._e()]),e("button",{staticClass:"btn bb",attrs:{type:"button"},on:{click:function(i){return t.addCart(t.item.id,t.product.num)}}},[t._v("加到購物車")])])])])])],1)},a=[],n=(e("99af"),e("4160"),e("159b"),"".concat("https://course-ec-api.hexschool.io","/api/").concat("56ff457f-9ba1-4d05-9358-26f3844d450a","/ec/product")),o={name:"Product",data:function(){return{isLoading:!1,item:{id:"",title:"",content:"",price:"",origin_price:"",imageUrl:[]},uuid:"56ff457f-9ba1-4d05-9358-26f3844d450a",product:{num:1},status:{loadingItem:""}}},components:{},created:function(){this.getProduct()},methods:{getProduct:function(){var t=this;this.isLoading=!0;var i=this.$route.params.id;this.$http.get("".concat(n,"/").concat(i)).then((function(i){t.isLoading=!1,t.item=i.data.data,t.$set(t.product,"num",1)})).catch((function(t){console.log(t.data.data)}))},addCart:function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0,this.status.loadingItem=t,this.item.id=t;var s="".concat("https://course-ec-api.hexschool.io","/api/").concat(this.uuid,"/ec/shopping"),a={product:this.item.id,quantity:e};this.axios.post(s,a).then((function(){i.status.loadingItem="",i.$bus.$emit("updateTotal"),i.$bus.$emit("message:push","成功加入購物車","success"),i.isLoading=!1})).catch((function(t){i.status.loadingItem="";var e=t.response.data.errors;console.log(e),e.forEach((function(t){i.isLoading=!1,i.$bus.$emit("message.push","加入購物車失敗","".concat(t),"danger")}))}))}}},c=o,r=e("2877"),d=Object(r["a"])(c,s,a,!1,null,null,null);i["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21de4f.e0e7c119.js.map